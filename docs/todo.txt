move input to getch
clean up machine implementation (register finding?)
have error printing actually go to stderr
